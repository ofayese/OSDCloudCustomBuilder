{
  "name": "Ultimate PowerShell Dev Container",
  "build": {
    "dockerfile": "Dockerfile",
    "context": ".",
    "args": {
      "BASE_IMAGE": "mcr.microsoft.com/powershell/test-deps:latest"
    }
  },
  "settings": {
    "terminal.integrated.defaultProfile.linux": "pwsh",
    "editor.formatOnSave": true,
    "files.autoSave": "onWindowChange",
    "powershell.powerShellDefaultVersion": "PowerShell 7"
  },
  "extensions": [
    "ms-vscode.powershell",
    "ms-azuretools.vscode-docker",
    "GitHub.vscode-pull-request-github",
    "eamodio.gitlens",
    "ms-vscode.azure-account",
    "ms-azuretools.vscode-azureresourcegroups",
    "bierner.markdown-preview-github-styles",
    "esbenp.prettier-vscode"
  ],
  "postCreateCommand": "pwsh -Command Install-Module -Name 'PSScriptAnalyzer','PowerShellProTools','OSD','Az','Terminal-Icons','Evergreen','EGH' -Force -Scope AllUsers",
  "remoteUser": "vscode",
  "mounts": [
    "source=${localWorkspaceFolder}/.secrets,target=/workspace/.secrets,type=bind,consistency=cached"
  ],
  "features": {},
  "containerEnv": {
    "POWERSHELL_TELEMETRY_OPTOUT": "1"
  },
  "forwardPorts": [
    3000,
    8080,
    9229
  ]
}
